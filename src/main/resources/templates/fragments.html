<!-- Header Fragment -->
<div th:fragment="headerFragment">
    <header>
        <nav class="header-nav">
            <!-- LEFT SECTION -->
            <div class="header-left">
                <a href="index.html" th:href="@{/}" class="logo-link">
                    <img src="/images/logo.svg"
                         alt="Fog logo"
                         th:src="@{/images/logo.svg}">
                </a>

                <!-- Sales links (conditional) -->
                <div th:if="${session.currentUser != null and session.currentUser.role.name() == 'SALESREP'}"
                     class="admin-links">
                    <a href="requests.html" th:href="@{/carport-requests}" class="nav-link">
                        Forespørgsler
                        <span class="badge" th:if="${requestCount > 0}" th:text="${requestCount}">1</span>
                    </a>
                    <a href="offers.html" th:href="@{/offers}" class="nav-link">Tilbud</a>
                    <a href="orders.html" th:href="@{/orders}" class="nav-link">Ordrer</a>
                </div>
            </div>

            <!-- RIGHT SECTION: User actions -->
            <div class="header-right">
                <!-- Not logged in -->
                <a th:if="${session.currentUser == null}"
                   href="login.html"
                   th:href="@{/login}"
                   class="icon-link-vertical">
                    <img src="/images/profile.svg" alt="Login" th:src="@{/images/profile.svg}">
                    <span>Fog konto</span>
                </a>

                <!-- Logged in -->
                <div th:if="${session.currentUser != null}" class="user-actions">

                    <!-- Logged in as customer -->
                    <div th:if="${session.currentUser.role.name() == 'CUSTOMER'}" class="user-info user-actions">
                        <span class="username" th:text="${session.currentUser.email}">user@example.com</span>

                        <a href="my-page.html" th:href="@{/my-page}" class="icon-link-vertical">
                            <img src="/images/profile.svg" alt="Min side" th:src="@{/images/profile.svg}">
                            <span>Min side</span>
                        </a>
                    </div>

                    <!-- logged in as sales rep -->
                    <div th:if="${session.currentUser.role.name() == 'SALESREP'}" class="user-info">
                        <div>
                            <span class="username" th:text="'Sælger id: '">Sælger id: </span>
                            <span class="username sellerid" th:text="${session.currentUser.userId}">0</span>
                        </div>
                        <span class="username"
                              th:text="${session.currentUser.firstName} + ' ' + ${session.currentUser.lastName}">Anders Andersen</span>
                    </div>

                    <form th:action="@{/logout}" method="post">
                        <button type="submit" class="icon-link-vertical logout-btn">
                            <img src="/images/logout.svg" alt="Log ud" th:src="@{/images/logout.svg}">
                            <span>Log ud</span>
                        </button>
                    </form>
                </div>
            </div>
        </nav>
    </header>
</div>

<!-- Footer Fragment -->
<div th:fragment="footerFragment">
    <footer>
        <address class="footer-contact">
            <p class="footer-title">Johannes Fog</p>
            <p>Firskovsvej 12, 2800 Kongens Lyngby</p>
            <a href="mailto:kontakt@fog.dk">kontakt@fog.dk</a>
            <a href="tel:+4512345678">+45 1234 5678</a>
        </address>
    </footer>
</div>