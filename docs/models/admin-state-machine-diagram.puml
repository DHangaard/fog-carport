@startuml

Login : /login (login.html)
Index : / (index.html)
CarportOffers: /offers (admin-offers.html)
CarportOrders: /orders (admin-orders.html)
CarportRequests : /carport-requests (admin-request.html)
CarportRequestDetail : /carport-request/details/{id} (admin-request-detail)
UpdateCarport : /requests/{id}/update-carport (admin-update-carport)
CarportOrderDetail : /carport/details/view/{id} (order-detail.html)
CarportDrawing : /show-carport-drawing/{id} (carport-drawing.html)
Materials : /materials (materials.html)
UpdateMaterial : /materials/{id}/update-material (material-update)
CreateMaterial : /materials/create (material-create)

[*] --> Index : Seller/admin arrives

Index --> Login : Seller logs in
Login --> Index : Login successful
Index --> CarportRequests : View carport requests (logged in)
Index --> CarportOffers : View offers (logged in)
Index --> CarportOrders : View orders (logged in)
Index --> Materials : View materials (logged in)

CarportRequests --> CarportRequestDetail : View specific request
CarportRequestDetail --> UpdateCarport : Edit carport / BOM / price
UpdateCarport --> CarportRequestDetail : Save changes
UpdateCarport --> CarportRequestDetail : Cancel
CarportRequestDetail --> CarportDrawing : View drawing (new window)
CarportRequestDetail --> CarportRequests : Send offer
CarportRequestDetail --> CarportRequestDetail : Update quantity in material line

CarportOffers --> CarportOrderDetail : View accepted offer (order)
CarportOffers --> CarportOffers : View active / rejected / expired offers
CarportOffers --> CarportDrawing : View drawing (new window)

CarportOrders --> CarportOrderDetail : View specific order
CarportOrderDetail --> CarportDrawing : View drawing (new window)
CarportOrders --> CarportOrders : View paid / cancelled orders

Materials --> UpdateMaterial : Edit material
UpdateMaterial --> Materials : Save changes
UpdateMaterial --> Materials : Cancel
Materials --> CreateMaterial : Create new material
CreateMaterial --> Materials : Save new material
CreateMaterial --> Materials : Cancel
Materials --> Materials : Delete material

@enduml
